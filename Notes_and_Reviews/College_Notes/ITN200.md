# Using Windows Server 2019 within an Organization

### Computer networks and the Internet in the 1990s
- PCs (client) connected to other computers across a computer network
- Obtained access to shared resources

### Server: a computer that shares a resource
- On-premises servers, cloud servers, rackmount servers, blade servers

### Rack servers (1U and 2U)
- Storage area network (SAN) devices, uninterruptible power supply (UPS) devices

---

# Understanding Windows Server Virtualization

### Virtualization
- Process of running more than one OS at the same time on a single computer
- requires hypervisor software

### Type 2 hypervisors run on top of an existing workstation OS

### Type 1 hypervisors interact with the hardware directly
- Contain a small OS to manage the hypervisor configuration and virtual machines
- Example: Microsoft Hyper-V

### Hypervisor requirements
- hypervisor acceleration
- Second Level Address Translation (SLAT) extensions

### Virtual Machine configuration file
- Stored within a file specific to the hypervisor

### OS virtual hard disk file
- Thick provisioning: allocates fixed space for the file when created
- Thin provisioning: dynamically allocating space as needed

### On-premises and cloud OS
- Virtual machines with a virtual hard disk file hosted on a SAN within the organization or cloud data center

### Nested Virtualization
- Running other VMs within an existing VM
- Example: Hyper-V
- Provides the ability to implement a more complex virtualization structure
- Provides the ability to create a complex virtualization structure on Windows 10 PCs for learning and testing purposes

---

# Understanding Windows Containers

### Sandboxing
- Enclosing executed Web apps in a way that isolates them from Web apps running within other containers and the underlying OS

### Docker: Common container software

### Windows Containers: Windows server component needed to use Docker

### Kernel: Core OS component 

### Hyper-V Containers
- Provide additional performance and security features to Web apps

---

# Windows Server 2019 Features

### Active Directory
- gives us a single on-domain and domain controller environment
- Windows server as an Active Directory domain controller
  - Gives us a single sign-on for other computers joined to a domain
- Has a Group Policy and an Active Directory Certificate Service feature

### Azure Active Directory
- Service hosted within Microsoft's Azure cloud
- Provides Active Directory services to an organization

### Security
- Microsoft Defender Advanced Threat Protection (ATP)
  - Performs a deep inspection of files and processes
- a shielded VM feature that protects Hyper-V virtual hard disk files
- Emphasis on Internet Information Services (IIS) Web server software
- Has more basic security features
  - File and folder permission, security policies, encryption of data, event auditing, various authentication methods, server management, and monitoring tools
 
### Volume and filesystem features
- NTFS features
  - built-in support for file and folder permission, compression, Encrypting File System (EFS) encryption, user quotas, data deduplication, journaling, and self-healing capability
- ReFS v3 features
   - data deduplication, improved performance with storage spaces
- Storage Replicas have better performance
- Storage Mitigation Service simplifies the moving of data

### Performance and reliability features
- Privileged mode
- Protected processes
- multitasking
- multithreading
- processor scalability
- server clustering

### Admin tools manage the servers and services on the network
- Server Manager
  - monitors and manages server local configurations or network servers
- Windows PowerShell
  - Provides features for computers running Windows and Windows Server
- Windows Admin Center
 - web-based management tool new to Windows Server 2019

### Small footprint installation options
- install Server 2019 with a minimal set of services, features, and functionality
- produces a smaller attack surface
- more suitable for cloud environments
  - uses far less server storage, memory, and processor resources
  - can be installed within a VM or used as a container
- Windows Server 2019 offers 2 small footprint installation options
- server core and nano server

### Hybrid cloud features
- Hybrid cloud
  - integration between on-premises Windows Servers and Windows Servers and services running in the Azure Cloud
- Window server azure network adapter feature
- azure update management feature
- azure site recovery feature
- Kubernetes software coordinates conatiner execution

### Linux application support
- Web apps running in the cloud run within Linux containers
- Microsoft's Windows Subsystem for Linux (WSL)
- Makes it easier for Web app developers to create and test Linux apps on their Windows 10 PCs

---

# Windows Server 2019 edition

### Windows Storage Server 2019
- Cannot be purchased directly from Microsoft
- OEMs can offer Windowd Storage Server 2019 on the server based products they sell
- windows storage server 2019 turns a server into a central storage center for data in an organization
  - take advantage of the storage utilities offered in Windows Server 2019
 
### Microft Hyper-V Server 2019
- Hyper-V hypervisor
- Each Windows server VM running it requires a valid license
- note: linux VM do not require a license
- Installs a small footprint version of Windows server
   - contains a powershell interface for creating and managing VM

 ---

# Preparing for a Windows Server 2019 Installation

- Perform advanced planning
- Review and exceed minimum hardware requirements
- Consider capacity planning questions
- Consider processing speed, paying attention to the number of processors
- Ensure server has enough memory for the applications that it will host
- Consider the amount and type of storage
  - Redundant Array of Independent Disks (RAID) in the BIOS of the server
  - Additional hard disks, SSDs, virtual machine hard disk files

---

# Installing Windows Server 2019

### Installation broken into 3 separate tasks
- obtaining installation media
- starting the installation process
- completing the installation process

---

# Obtaining Installation Media

### Common method used to install windows server
- booting a computer or VM from installation media
  - bootable DVD or USB flash drive or ISO image file
- Used disk-burning software to download ISO image
- Download the correct Windows Server 2019 ISo image file

---

# Starting the Installation Process

### Ensure BIOS boot order if necessary

### Create a new virtual machine within a virtualization configuration program
- Attach an ISO image file to the virtual DVD drive within the virtual machine
- Configure the virtual machine BIOS boot order
  - Boot from a DVD before the virtual hard disk file
- Start virtual machine within the virtual machine software
  - Machine boots ISO image attached to the virtual DVD
- Installation process starts

---

# Completing the Installation Process

- First step: enter regional locale and keyboard format
- Second step: choose whether to start an installation or repair a system
- Third step: select desired Windows Server 2019 edition
  - Accept the Microsoft license terms for Windows Server 2019
- Fourth step: select installation type - custom or upgrade
  - Normally, select Custom installation for new installation
- Fifth step: select Windows Server operating system storage location
- Reboot and specify a password for the local Administrator user account

---

# Post-installation Configuration

### Key configuration tasks following any Windows Server 2019 installation
- Setting the correct time and time zone
- Configuring the Internet Protocol (IP) on the server's network interfaces
- Configuring the firewall
- Changing the default computer name and domain membership
- Installing a modern Web browser
- Activating the Windows Server operating system

---

# Setting the Correct Time and Time Zone

### Within Server Manager
- Navigate to Local Server
- Select the hyperlink to Time zone in the Properties window
### Within the Windows Server Configuration Wizard on Server Core
- Select option 9 

--- 

# Configuring the Network

### Requirements to connect computer to a network
- Network interface, protocol, packets, routers, and other devices on a network

### Three default Windows protocols
- TCP/IP, UDP/IP, ICMP

### TCP ensures retransmission of lost packets

### IP network participant requires a valid Internet Protocol (IP) address
- IP version 4 (IPv4)
- IP version 6 (IPv6)

### Understanding IPv4

### Participation on an IPv4 network
- Requires valid IP address and a subnet mask
- Optionally requires configuration of a default gateway
- Unicast communication: from one computer to another computer using IP
- Octets: most common format for IPv4 addresses
- IPv4 address's two parts: network ID and host ID
- IPv4 address must be configured with a subnet mask

### Understanding IPv6
- Accommodates far more IP addresses: uses 128 bits to identify computers
- IP addresses written using 8 colon-delimited 16-bit hexadecimal numbers
- IPv6 addresses can be expressed several ways
- Adopted by small Internet-connected devices
  - Collectively referred to as the Internet of Things (loT)
  - Uses Teredo protocol to work within IPv4-only networks
- Proxy servers and Network Address Translation (NAT) routers allow more IPv4
addresses

### Configuring IP on a network interface
- Automatic from Dynamic Host Configuration Protocol (DHCP) or Boot
Protocol (BOOTP) server

### Process varies on IPv4 or IPv6 networks

### Automatic address assignment features
- Automatic Private IP Addressing (AP|PA)
- Internet Control Message Protocol version 6 (ICMPv6)

### Can manually configure IP on a network interface within Server Manager

---

# Configuring the Firewall

### Perimeter network or demilitarized zone (DMZ)
- Contains servers surrounded by routers
- Routers implement advanced firewall capabilities for traffic passing into network

### Disable or modify DMZ servers' firewall configurations within Server Manager
- Navigate to Local Server
- Select hyperlink next to Windows Defender Firewall in the Properties window 

--- 

# Changing the Default Computer Name and Domain Membership

### Installation assigns randomly generated computer name for the server

### Change within Server Manager
- Navigate to Local Server
- Select hyperlink next to Computer name in the Properties window
- Click the Change button and supply a new computer name

### Change within Windows Server Configuration Wizard on Server Core
- Select option 2

### Finish by joining the server to a domain 

---

# Installing a Modern Web Browser

### Default Windows Server 2019 Web browser: Internet Explorer
- Provided for legacy application support only

### Internet Explorer Enhanced Security Configuration (IE ESC) blocks Web sites

### Disable IE ESC within Server Manager
- Navigate to Local Server
- Select hyperlink next to lE Enhanced Security Configuration in the Properties window
- Disable IE ESC for all users or system administrators

----

# Activating the Windows Server Operating System

### Automatic activation performed based on Generic Volume License Key (GVLK)
- Requires organization's Key Management Services (KMS) installed on a network server
- Requires Active Directory-based Activation role installed on a domain controller within the domain

### Organization can purchase a retail product key or Multiple Activation Key (MAK)

### Activation within Server Manager by navigating to Local Server
- Select hyperlink next to Product ID in the Properties window
- Enter license key and click Activate to complete the activation process

---

# Selecting a Windows Server 2019 Lab Environment

### Hands-On Projects within this book will require Hyper-V

### Can install Windows Server 2019 directly on a computer
- Not necessarily practical

### Can use Windows 10 Professional, Enterprise, and Education editions
- These releases provide support for Hyper-V and nested virtualization


